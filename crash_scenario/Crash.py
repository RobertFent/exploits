from libPySI import PySI
from plugins.standard_environment_library.SIEffect import SIEffect
from plugins.standard_environment_library._standard_behaviour_mixins.Movable import Movable
from plugins.standard_environment_library._standard_behaviour_mixins.Deletable import Deletable
from plugins.E import E


class Crash(Deletable, Movable, SIEffect):
	regiontype = PySI.EffectType.SI_CUSTOM
	regionname = '__Crash__'
	region_display_name = 'Crash'

	def __init__(self, shape=PySI.PointVector(), uuid="", kwargs={}):
		Deletable.__init__(self, shape, uuid, "res/crash.png", Crash.regiontype, Crash.regionname, kwargs)
		Movable.__init__(self, shape, uuid, "res/crash.png", Crash.regiontype, Crash.regionname, kwargs)
		SIEffect.__init__(self, shape, uuid, "res/crash.png", Crash.regiontype, Crash.regionname, kwargs)
		self.qml_path = self.set_QML_path('Crash.qml')

		self.raiseError(4, 0)

		# self.enable_effect('Crashing', SIEffect.EMISSION, self.on_enter_tag_emit, None, None)
		
	def raiseError(self, x, y):
		x.append(y)

	@SIEffect.on_enter('Crashing', SIEffect.EMISSION)
	def on_crash_enter_emit(self, other):
		print('It works!')
		return True
